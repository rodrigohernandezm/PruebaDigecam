<!DOCTYPE html>
<html lang="es">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1648026384334176"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QF0050DMP2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QF0050DMP2');
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prueba DIGECAM</title>
  <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/rodrigohernandezm/PruebaDigecam/main/digecam_logo.png">
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: auto; padding: 20px; }
    .ad { width: 100%; height: 100px; margin: 10px auto; background: #ddd; text-align: center; line-height: 100px; }
    .question { margin-bottom: 20px; text-align: left; }
    .result { font-size: 1.2em; margin-top: 20px; text-align: justify; }
    .result p { text-align: justify; } /* Asegura que cada párrafo esté justificado */
    button { padding: 10px 20px; margin-top: 20px; }
    .correct-answer { color: green; }
    .wrong-answer { color: red; }
  </style>
</head>
<body>
  <div class="ad">Publicidad</div>
  <div class="container">
    <h1>Prueba de la DIGECAM</h1>
    <form id="quiz-form"></form>
    <button id="submit">Calificar</button>
    <div id="results" class="result"></div>
    <button id="restart" style="display: none;">Reiniciar</button>
  </div>
  <div class="ad">Publicidad</div>

  <script>
const series = [
  {
    name: "Serie 1",
    questions: [
      {
        question: "El Ejército de Guatemala podrá hacer uso de las armas necesarias para la defensa interna y externa del país...",
        options: ["Verdadero", "Falso"],
        answer: 0
      },
      {
        question: "¿Cómo se clasifican las armas de fuego?",
        options: [
          "Armas cortas y largas",
          "Armas bélicas, de uso individual, deportivas, de uso civil",
          "Armas reconocidas internacionalmente por instituciones deportivas"
        ],
        answer: 1
      },
      {
        question: "El agente de seguridad privada tiene permitido desarmar su arma durante su servicio.",
        options: ["Verdadero", "Falso"],
        answer: 1
      },
      {
        question: "Las personas que poseen licencia de portación de arma de fuego, podrán portar su arma descubierta y de manera ostentosa e intimidatoria solo por haber cumplido con los requisitos de ley.",
        options: ["Verdadero", "Falso"],
        answer: 1
      },
      {
        question: "Interrupción en el funcionamiento de un arma de fuego",
        options: ["Calentamiento", "Falla", "Percutor"],
        answer: 1
      },
      {
        question: "Arma de fuego corta, de funcionamiento semiautomático",
        options: ["Escopeta", "Revolver", "Pistola"],
        answer: 2
      }, 
      {
        question: "Artículo 62: Todos los ciudadanos tienen derecho de tener armas de fuego en su lugar de habitación, salvo las que las que la ley prohíba, cumpliendo únicamente con los requisitos expresamente consignados en la presente ley. Como se llama dicho documento que propocionará DIGECAM",
        options: ["Licencia de portación", "Declaración jurada", "Tenencia"],
        answer : 2
      },
      {
        question: "Artículo 80: No podrá concederse licencia de portación de arma de fuego a las siguientes:",
        options: ["Personas que laboran en seguridad privada", "Personas declaradas en estado de interdicción", "Personas con antecedentes policiacos limpios"],
        answer: 1
      }
    ]
  },
  {
    name: "Serie 2",
    questions: [
      {
        question: "Herramienta diseñada para lanzar un pryectil utilizando la energia liberada por la combustión del propelente.",
        options: ["Percutor", "Arma de fuego", "Proyectil", "Calibre"],
        answer: 1
      },
      {
        question: "Golpea el fulminante del cartucho, lo que provoca la ignición del cartucho.",
        options: ["Percutor", "Aguja", "Arma de fuego", "Proyectil"],
        answer: 0
      },
      {
        question: "Corresponde a la medida del diametro del cañon del arma o al diametro externo del cuerpo de la bala.",
        options: ["Recamara", "Seguro", "Proyectil", "Calibre"],
        answer: 3
      },
      {
        question: "Establecimiento que cuenta con la infraestructura necesaria para la práctica de tiro deportivo o de defensa",
        options: ["Digecam", "Recamara", "Poligono", "Campo"],
        answer: 2
      },
      {
        question: "Despues de cada disparo se recarga automaticamente y solo es posible efectuar un disparo al accionar el disparador",
        options: ["Arma de fuego", "Arma semiautomatica", "Calibre", "Percutor"],
        answer: 1
      },
      {
        question: "¿Quiénes tienen derecho a importar armas y municiones según el artículo 32?",
        options: ["Cualquier persona individual o jurídica sin restricciones", "Personas individuales o jurídicas registradas y autorizadas por la DIGECAM", "Solo el Ejército y las fuerzas de seguridad del Estado", "Exclusivamente entidades deportivas"],
        answer: 1
      },
      {
        question: "¿Qué instituciones pueden utilizar la información de la DIGECAM para investigaciones policiales y penales?",
        options: ["La Policía Nacional Civil, el Ministerio Público y el INACIF", "Solo el Ejército de Guatemala", "Asociaciones deportivas y de caza", "Ninguna institución puede usar esta información"],
        answer: 0
      },
      {
        question: "¿Qué armas son consideradas deportivas según el artículo 11?",
        options: ["Solo pistolas semiautomáticas y rifles automáticos","Armas cortas, largas y de caza reconocidas y reguladas internacionalmente", "Armas automáticas de uso exclusivo del Ejército", "Cualquier arma que se utilice en actividades de caza, sin importar su diseño"],
        answer: 1
      },
      {
        question: "¿Qué tipos de armas pueden ser importadas según este artículo?",
        options: ["Armas de fuego bélicas y automáticas", "Armas de uso civil y deportivas", "Solo armas deportivas de competencia internacional", "Todas las armas sin restricción alguna"],
        answer: 1
      }, 
      {
        question: "La importación de armas puede realizarse con fines de recreación personal.",
        options: ["Verdadero", "Falso"],
        answer: 0
    }
    ]
  }
];

const quizForm = document.getElementById("quiz-form");
const submitButton = document.getElementById("submit");
const resultsDiv = document.getElementById("results");
const restartButton = document.getElementById("restart");

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function loadQuiz() {
  quizForm.innerHTML = "";
  resultsDiv.innerHTML = "";
  submitButton.style.display = "inline";
  restartButton.style.display = "none";

  series.forEach((serie, serieIndex) => {
    const serieHeader = document.createElement("h2");
    serieHeader.textContent = serie.name;
    quizForm.appendChild(serieHeader);

    shuffle(serie.questions).forEach((q, index) => {
      const questionElement = document.createElement("div");
      questionElement.classList.add("question");

      const questionText = `<p>${index + 1}. ${q.question}</p>`;

      if (serieIndex === 0) { // Serie 1: Radio buttons
        const options = q.options
          .map(
            (opt, i) =>
              `<label><input type="radio" name="serie-${serieIndex}-question-${index}" value="${i}"> ${opt}</label><br>`
          )
          .join("");
        questionElement.innerHTML = questionText + options;
      } else if (serieIndex === 1) { // Serie 2: Dropdown list
        const dropdown = document.createElement("select");
        dropdown.name = `serie-${serieIndex}-question-${index}`;

        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Seleccione una respuesta";
        defaultOption.disabled = true;
        defaultOption.selected = true;
        dropdown.appendChild(defaultOption);

        q.options.forEach((opt, i) => {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = opt;
          dropdown.appendChild(option);
        });

        questionElement.innerHTML = questionText;
        questionElement.appendChild(dropdown);
      }

      quizForm.appendChild(questionElement);
    });
  });
}

function gradeQuiz() {
  let overallScore = 0;
  let resultsHTML = "<h2>Resultados</h2>";

  series.forEach((serie, serieIndex) => {
    let score = 0;
    resultsHTML += `<h3>${serie.name}</h3>`;

    serie.questions.forEach((q, index) => {
      const selectedOption = quizForm[`serie-${serieIndex}-question-${index}`].value;
      if (selectedOption === "" || selectedOption === undefined) {
        resultsHTML += `<p>${index + 1}. ${q.question} - <span class="wrong-answer">Sin responder</span>. Respuesta correcta: <span class="correct-answer">${q.options[q.answer]}</span></p>`;
      } else if (parseInt(selectedOption) === q.answer) {
        score++;
        overallScore++;
        resultsHTML += `<p>${index + 1}. ${q.question} - <span class="correct-answer">Correcto</span></p>`;
      } else {
        resultsHTML += `<p>${index + 1}. ${q.question} - <span class="wrong-answer">Incorrecto</span>. Respuesta correcta: <span class="correct-answer">${q.options[q.answer]}</span></p>`;
      }
    });

    resultsHTML += `<p>Puntuación de ${serie.name}: ${score}/${serie.questions.length}</p>`;
  });

  resultsHTML += `<p>Puntuación total: ${overallScore}/${series.reduce((sum, s) => sum + s.questions.length, 0)}</p>`;
  resultsDiv.innerHTML = resultsHTML;

  submitButton.style.display = "none";
  restartButton.style.display = "inline";
}

submitButton.addEventListener("click", (e) => {
  e.preventDefault();
  gradeQuiz();
});

restartButton.addEventListener("click", loadQuiz);

loadQuiz();
  </script>
<h2> </h2>
<img src="https://raw.githubusercontent.com/rodrigohernandezm/PruebaDigecam/main/banner_prueba.jpg" alt="Trulli" width="250" height="160">
</body>
</html>
